<html dir="ltr">

<head>
  <link rel="stylesheet" type="text/css" href="registerStyle.css" />
  <link href="https://fonts.googleapis.com/css2?family=Questrial&family=Rubik:wght@300;600;800&display=swap"
    rel="stylesheet" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600;800&display=swap" rel="stylesheet" />
  <meta charset="utf-8" />
  <script language="javascript">
    function isEmpty(str) {
      if (str == "" || str.length == 0)
        return false;
      return true;
    }

    //if the Id entered by the user contains letters function return true otherwise it will return false.
    function checkIDOnlydigits(str) {
      for (i = 0; i < str.length; i++) {
        if (str.charAt(i) < '0' || str.charAt(i) > '9') {
          return false;
        }
      }
      return true;
    }

    function check9Digits(str) {
      if (str.length !== 9)
        return false;
      return true;
    }

    //check shtrudel
    function oneShtrudelOnly(str) {
      if (str.indexOf("@") != str.lastIndexOf("@"))
        return false;
      return true;
    }

    function notTogetherPointAndShtrudel(str) {
      var n = str.indexOf("@");
      var m = n + 1;
      var k = n - 1;
      if (str.charAt(m) == "." || str.charAt(k) == ".") return false;
      return true;
    }

    function checkEnglishLetters(str) {
      for (var i = 0; i < str.length; i++) {
        if (!(str.charAt(i) >= 'a' && str.charAt(i) <= 'z'))
          return false;
      }
      return true;
    }

    // function IfContainBothDigitsChar(str) {
    //   for (let i = 0; i < str.length; i++) {
    //     if (!(str.charAt(i) >= 'a' && str.charAt(i) <= 'z') && !(str.charAt(i) >= 'A' && str.charAt(i) <= 'Z') && !(str.charAt(i) >= '0' && str.charAt(i) <= '9'))
    //       return false;
    //   }
    //   return true;
    // }

    //checks if shtrudel is the last digit in the email
    function ifAtSignLast(str) {
      if (str.lastIndexOf('@') == str.length - 1) {
        return false;
      }
      return true;
    }

    //checks if email includes @ 
    function checkAtSign(email) {
      if (email.includes("@")) {
        return true;
      }
      return false;
    }

    // // checks if the two strings are equal
    function checkStringsAreEqual(str1, str2) {
      if (!(str1 === str2)) return false;
      return true;
    }

    //checks if email has 2,3 or 4 characters at the end
    function validateEmailEnding(email) {
      let emailParts = email.split('@');
      let domainParts = emailParts[1].split('.');
      if (domainParts[1].length < 2 || domainParts[1].length > 3) {
        return false;
      }
      return true;
    }

    function checkEmail(str) {
      if (!isEmpty(str)) {
        alert("write Email");
        return false;
      }
      if (!oneShtrudelOnly(str)) {
        alert("it must be only one @");
        return false;
      }
      if (!notTogetherPointAndShtrudel(str)) {
        alert("point and shtrudel cannot be together");
        return false;
      }
      // if (!IfContainBothDigitsChar(str)) {
      //   alert("Email can contain only digits and letters");
      //   return false;
      // }
      if (!ifAtSignLast(str)) {
        alert("shtrudel cannot be last");
        return false;
      }
      if (!checkAtSign(str)) {
        alert("there is no shtrudel in the Email :(");
        return false;
      }
      if (!validateEmailEnding(str)) {
        alert("email must have 2,3 or 4 letters at the end");
        return false;
      }
      return true;
    }

    function checkId(id) {
      if (!isEmpty(id)) {
        alert("Write your Id");
        return false;
      }
      if (!checkIDOnlydigits(id)) {
        alert("Id must contain only digits");
        return false;
      }
      if (!check9Digits(id)) {
        alert("Id must contain 9 digits");
        return false;
      }
      return true;
    }

    function checkPassword(password1, password2) {
      if (!isEmpty(password1) || !isEmpty(password2)) {
        alert("write your password");
        return false;
      }
      if (!checkStringsAreEqual(password1, password2)) {
        alert("the second password is not correct");
        return false;
      }
      return true;
    }

    function checkName(name) {
      if (!isEmpty(name)) {
        alert("the name must contain letters");
        return false;
      }
      if (!checkEnglishLetters(name)) {
        alert("the name must conatain English small letters");
        return false;
      }
      return true;
    }


    function checkSurfboards(surfboard) {
      if (surfboard.selectedIndex == 0) {
        alert("please choose surfBoard");
        return false;
      }
    }

    function checkGender() {
      var genderArray = document.getElementsByName('gender');
      if (!(genderArray[0].isChecked) || (genderArray[1].isChecked)) {
        alert("choose gender");
        return false;
      }
      // var count = 0;
      // for (i = 0; i < gender.length; i++) {
      //   if (gender[i].checked)
      //     count++;
      // }
      // if (count == 0) {
      //   alert("choose gender");
      //   return false;
      // }
    }

    function mainFunction() {
      var name = document.myForm.name.value;
      var id = document.myForm.IdNumber.value;
      var email = document.myForm.email.value;
      var password1 = document.myForm.password1.value;
      var password2 = document.myForm.password2.value;
      var surfboard = document.myForm.surfboards.value;
      var isDataValid = true;

      alert("the form succesfuly finished");

      if (!checkName(name)) {
        isDataValid = false;
      }
      alert("the form succesfuly finished");

      if (!checkId(id)) {
        isDataValid = false;
      }

      if (!checkEmail(email)) {
        isDataValid = false;
      }

      if (!checkPassword(password1, password2)) {
        isDataValid = false;
      }
      alert("the form succesfuly finished");

      if (!checkSurfboards(surfboard)) {
        isDataValid = false;
      }

      if (!checkGender(gender)) {
        isDataValid = false;
      }

      alert("the form succesfuly finished");
      return isDataValid;

    }

  </script>
</head>

<body>
    <form name="myForm" onsubmit="event.preventDefault();  return mainFunction(); alert('Form submitted');">
      <h1><label align="center">Register</label></h1>
      <label for="name">Name:</label>
      <input type="text" id="name" name="name" /><br />
      <label for="IdNumber">ID Number:</label>
      <input type="text" id="IdNumber" name="IdNumber">
      <label for="email">Email:</label>
      <input type="text" id="email" name="email" /><br />
      <label for="password1">Password:</label>
      <input type="password" id="password1" name="password1" /><br />
      <label for="password2">Enter your password again:</label>
      <input type="password" id="password2" name="password2" /><br />
      Gender :
      <input type="radio" name="gender" id="maleGender" value="male"> male
      <input type="radio" name="gender" id="femaleGender" value="female"> female
      <br></br>
      <input type="checkbox" id="checkIfSurfer" name="surfer" value="Professional" <label for="checkIfSurfer">I'm a
      surfer </label><br>
      <input type="checkbox" id="checkIfBegginer" name="surfer" value="Begginer" <label for="checkIfBegginer">I'm a
      begginer</label><br>
      <input type="checkbox" id="checkifDontSurf" name="surfer" value="new" <label for="checkifDontSurf">I don't
      surf</label><br>
      <br></br>
      <label for="surfboards">Choose your surfboard:</label>
      <select id="surfboards" name="surfboards">
        <option value="choose">Choose surfboard</option>
        <option value="soft">Soft board</option>
        <option value="fun">Fun board</option>
        <option value="long">Long board</option>
        <option value="short">Short board</option>
      </select><br><br>
        <button type="submit">Submit</button>
        <!-- <input type="text" id="submit">
        <button type="submit" onclick="event.preventDefault(); alert('Form submitted');">Submit</button>
  -->
        <!-- <input type="text" id="submit">
        <button type="submit" onclick="event.preventDefault(); alert('Form submitted');">Submit</button>
  -->
    </form>
</body>

</html>